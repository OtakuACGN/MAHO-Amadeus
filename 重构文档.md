## 后端
ws要解耦，看看能不能想一个尽量简单易用的包装。
现在的难点是因为它需要在生成的过程中同时发送语音这些数据，所以流式传输就比较难。

然后原本ws上是直接一个Amadeus实列，现在要分为很多的类
- Character：  
  - 拥有名字、id、config  
  - 初始化时根据 config 加载各组件（如语言模型、TTS、翻译等），实现个性化设定  
  - 挂载文本队列和音频队列，分别存储每次对话生成的文字和语音  
  - 提供易用的对话接口：输入字符串，自动调用语言模型生成回复，翻译（如需），TTS 合成语音，结果分别加入队列  
  - 每次调用对话接口前自动清空队列，保证输出内容为本次会话结果  
  - 所有组件通过接口调用，方便后续扩展、替换为 API 或微服务  
  - 支持流式传输，队列可按需取用，实现异步处理和多轮对话